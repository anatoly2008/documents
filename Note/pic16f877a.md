---
title: "pic16f877a应用文档"
author: "hnhkj@163.com"
date: "2016年4月20日"
output: html_document
---

## 关键词

* BOR - Brown-out Reset //欠压复位
* BOD

## 问题汇总

#### eeprom数据丢失

参考文档：<http://www.pic16.com/bbs/dispbbs.asp?BoardID=8&ID=51896>


这里所说的数据丢失，并不是保存在EEPORM 里的数据丢失！
 
只是单片机在掉电时，电压低过一定的值。执行程序代码出错或是程序指针跑飞。刚好执行EEPORM 写入操作，才会出现所说的EEPROM 数据丢失！就算是外置EEPROM 在低于正常工作电压，进行写入操作，也会出现这种情况！
 
BOD 的功能是低压复位。当电压低过一定的值，就会让单片机复位。不能继续程序代码，就没有出现所说的丢失数据！
 
EEPORM 进行数据备份，并在每份数据后里加入校验机制（如RCR）。
 
我是这么做的，读取EEPROM 的数据组并进行校验检测。如果通不过，这组数据就不要。继续下一组数据检测，当所有的数据组都不能通过检测时，并加载默认的设置参数！
 
在更新数据时，刷新所有的数据组。并给每组加入校验机制！但最好不要在掉电时对EEPROM 进行任务的操作！这样出错的机率很低！